---
title: Пустельні перегони
level: 2
author: 'Omsett frå [Code Club UK](//codeclub.org.uk)'
translator: 'Anatolii'
language: ua
---


# Вступ {.intro}

Це гра для двох, в якій папуга і лев борються за те, щоб першими перетнути пустелю. 
Кожен гравець повинен натискати клавішу якомога швидше і частіше, щоб перемістити свого персонажа, 
і той, хто першим дістанеться до краю екрану, виграє.

![Зображення гри](orkenlop.png)


# Крок 1: Створіть сцену та додайте персонажів {.activity}

*Ми починаємо з розміщення фону та фігур.*

## Контрольний список {.check}

- [ ] Натисніть «Сцена» і виберіть готовий фон,
  ![оберіть фон](../bilder/bakgrunn-fra-bibliotek.png). Оберіть
  `Усі/desert`.
  
- [ ] Видаліть кота, клацнувши правою кнопкою миші на персонажі та вибравши `вилучити`.

- [ ] Додайте нову фігуру, натиснувши ![оберіть фігуру з бібліотеки](../bilder/hent-fra-bibliotek.png).
      Виберіть `Тварини/Lion.`.

- [ ] Потім додайте ще одну нову фігуру: виберіть `Тварини/Parrot`. Зменшіть фігуру так, 
     щоб вона була приблизно такого ж розміру, як лев, змінивши число у полі «Розмір».
 
# Крок 2: Нехай лев і папуга рухаються {.activity}

*Ми хочемо, щоб фігури рухалися, коли ви натискаєте на кнопку.*

## Контрольний список {.check}

- [ ] Спочатку виберіть фігурку лева і змусьте його `перемісти на 4 кроки`{.blockmotion}, натискаючи клавішу `L`.

  ```blocks
  коли клавішу [l v] натиснуто
  перемістити на (4) кроки
  ```

- [ ] Потім виберіть персонажа папугу і дозвольте йому `перемісти на 4 кроки`{.blockmotion}, коли ви натиснете кнопку `A`.
 
  ```blocks
  коли клавішу [a v] натиснуто
  перемістити на (4) кроки
  ```

## Тестування проєкту {.flag}

__Натисніть на зелений прапорець.__

- [ ] Чи рухаються лев і папуга по екрану, коли ви натискаєте клавіші `A` і `L`? 

# Крок 3: Почніть перегони {.activity}

*Тепер нам потрібно запустити гонку і вибрати переможця. Почнемо з того, що зробимо кнопку Старт.*

## Контрольний список {.check}

- [ ] Додайте нового персонажа. Виберіть `Усі/Button3`. Перемістіть його в центр сцени.

- [ ] Перейдіть на вкладку `Образи` і скористайтеся інструментом `Т`, щоб додати текст. 
     Торкніться лівого краю кнопки, щоб додати текстове поле, і введіть текст `Start`. 
	 Ви можете перемістити текст, натиснувши його один раз, і змінити вміст, натиснувши двічі.
 
- [ ] Тепер додайте скрипт, який показує персонажа під час запуску гри:

  ```blocks
  коли @GreenFlag натиснуто
  показати
  ```

- [ ] Крім того, ми хочемо, щоб кнопка спочатку відраховувала час від 3, скажімо, `БІЖИ!`,
       а потім при натисканні ховалася. Це можна зробити за допомогою наступного скрипта:
 
  ```blocks
  коли спрайт натиснуто
  говорити [3] (1) сек
  говорити [2] (1) сек
  говорити [1] (1) сек
  говорити [БІЖИ!] (1) сек
  skjul
  ```

## Тестування проєкту {.flag}

__Натисніть на зелений прапорець, а потім на кнопку Старт.__

- [ ] Кнопка має зворотній відлік?

- [ ] Чи відображається `БІЖИ!`?

- [ ] Чи зникає спрайт?

Ми хочемо, щоб фігури рухалися тільки після початку забігу, і ми хочемо знати, коли забіг закінчиться.

## Контрольний список {.check}

- [ ] Щоб знати, коли гонка почалася і закінчилася, ми створюємо змінну з ім'ям перегони`перегони`{.blockdata}.
  Змінна має бути `доступною для всіх спрайтів`. Зніміть галочку навпроти змінної, щоб вона не з'являлася на сцені.
 
- [ ] Надайте змінній `перегони`{.blockdata} значення 0 при запуску гри, змінивши скрипт `коли @GreenFlag натиснуто`{.blockevents} наступним чином:


  ```blocks
  коли @GreenFlag натиснуто
  показати
  надати [перегони v] значення [0]
  ```

- [ ] Коли відлік завершиться і почнеться гонка, ми змінимо значення `перегони`{.blockdata} на 1. 
Для цього додайте блок `надати [перегони v] значення [0]`{.blockdata} під, `говорити 1 на 1 секунду`{.blocklooks} в скрипт,
який запускається `коли спрайт натиснуто`{.blockevents}.
 
- [ ] Тепер нам потрібно створити правило, яке скаже, що фігурам дозволено рухатися тільки після початку перегон - тобто, 
     коли значення `перегони`{.blockdata} дорівнює 1. Спочатку клацніть на папугу. Потім змініть його:
 
  ```blocks
  коли клавішу [a v] натиснуто
  якщо <(перегони) = [1]> то
      перемістити на (4) кроки
  slutt
  ```

- [ ] Повторіть те саме для `лева`.

## Тестування проекту {.flag}

__Натисніть на зелений прапорець.__

- [ ] Чи можуть лев і папуга просто переміститися, коли відлік закінчиться?

# Крок 4: Закінчіть гонку {.activity}

*Тепер ми хочемо дізнатися, хто виграв гонку, і підготуємося до нового раунду.*

## Контрольний список {.check}

- [ ] Додайте до скрипту папуги блок, який говорить, що якщо персонаж торкнеться краю екрану, `надати перегони значення 0`{.blockdata}:

  ```blocks
    коли клавішу [a v] натиснуто
  якщо <(перегони) = [1]> то
      перемістити на (4) кроки
      якщо <торкається [межа v]?>
          надати [перегони v] значення [0]
      slutt 
  slutt
  ```

- [ ] Потім запишіть звук, який пролунає, якщо папуга виграє.

  Перейдіть на вкладку `Звуки`, а потім на піктограму мікрофона і запишіть веселий фрагмент! 
  Запис почнеться, коли ви натиснете на коло, щоб воно стало червоним. 
  Закінчивши запис, натисніть кнопку «Стоп» (квадрат) і дайте звуку ім'я, наприклад, `Поллі`. 
  Деякі браузери можуть запитувати дозвіл на запис аудіо. Якщо ви не хочете цього робити, 
  використовуйте звуки, які додаються до фігур.

- [ ] Потім додайте цеглинки, які відтворюють звук, і дозвольте папузі сказати, що він виграв:

  ```blocks
  коли клавішу [a v] натиснуто
  якщо <(перегони) = [1]> то
      перемістити на (4) кроки
          якщо <торкається [межа v]?> то
          надати [перегони v] значення [0]
          відтворити звук [Polly v]
          говорити [Polly виграв!] (3) сек
      slutt
  slutt
  ```

- [ ] Зробіть те саме для лева.

## Тестування проєкту {.flag}

__Натисніть на зелений прапорець.__

- [ ] Чи можете ви натиснути кнопку `Start`, а потім переміщати тварин за допомогою клавіш `A` і `L`?

- [ ] Чи з'являється на екрані правильний звук і повідомлення про виграш?

# Крок 5: Перезавантажте гру {.activity}

*Коли гонка закінчується, ми повинні сказати іншим персонажам, що гра закінчилася, 
і перезавантажити гру, щоб вона була готова до нового раунду.*

## Контрольний список {.check}

- [ ] Клацніть на персонажа папугу і додайте цеглину, яка надсилає повідомлення `Фініш` після того, як персонаж скаже, що він переміг.

  ```blocks
 коли клавішу [a v] натиснуто
  якщо <(перегони) = [1]> то
      перемістити на (4) кроки
	  якщо <торкається [межа v]?> то
          надати [перегони v] значення [0]
          відтворити звук [Polly v]
          говорити [Polly виграв!] (3) сек
          оповістити [Фініш v]  
	  slutt
  slutt
  ```

- [ ] Тепер нам потрібен новий скрипт, який прослуховує це повідомлення про вихід і повертає папугу на початок.

  ```blocks
  коли я отримую [Фініш v]
  задати x (-170)
  ```

- [ ] Зробіть те саме для лева. Спробуйте різні значення `x`, щоб переконатися, що лев і папуга починають з одного і того ж місця.
 
- [ ] Для того, щоб фігури опинилися на стартовій лінії, коли гонка почнеться вперше, 
      нам також потрібно додати наступні цеглинки до обох фігур:

  ```blocks
  коли @greenFlag натиснуто
  задати x (-170)
  ```

- [ ] Для того, щоб гравці могли натиснути на кнопку, щоб почати нові раунди, ми повинні переконатися, 
  що кнопка Старт повертається після кожного завершеного раунду. 
  Клацніть на малюнок кнопки Старт і додайте скрипт, який відображатиме кнопку після отримання повідомлення про завершення раунду.

  ```blocks
  коли я отримую [Фініш v]
  Показати
  ```

## Тестування проєкту {.flag}

__Натисніть на зелений прапорець.__

- [ ] Чи можете ви грати проти друга? Один з вас керує папугою, натискаючи `A`, а інший - левом, натискаючи `L`.
 
## Збережіть свій проєкт {.save}

Гру завершено! Якщо ви хочете, ви можете натиснути кнопку `Поділитись`, щоб ваші друзі та сім'я також могли пограти в неї.

Нижче наведені деякі пропозиції та ідеї щодо того, як розширити гру і зробити її ще цікавішою.

## Завдання 1: Додайте ракету! {.challenge}

- [ ] __Додайте ракету__ яка може бути використана один раз за раунд і переміщує папугу або лева на __30 кроків за один хід__.

- [ ] __Додайте новий образ__ який з'являється з-за спини персонажів. Нехай він активується, коли випускається ракета.
 
- [ ] __Створіть звук__ який може видавати персонаж, коли вистрілює ракета.
 
Нижче наведено приклад того, як може виглядати сценарій ракети. Вам потрібно буде додати деякі звуки та змінні самостійно.

```blocks
коли клавішу [q v] натиснуто
  якщо <(перегони) = [1]> і <(використати ракету) = (0)>то
      змінити образ на (parrot-rocket)
      перемістити на (30) кроків
	  відтворити звук [Polly v]
	  якщо <торкається [межа v]?> то
          відтворити звук [Polly v]
          говорити [Polly виграв!] (3) сек
          оповістити [Фініш v] 
	slutt
    змінити образ на [parrot-a v]
    slutt 	
```

## Тестування проєкту {.flag}

__Натисніть на зелений прапорець.__

- [ ] Чи працює ракета так, як ви планували?

- [ ] Що станеться, якщо спробувати використати ракету двічі?

- [ ] Що станеться, якщо ви скористаєтеся ракетою, щоб дістатися до місця призначення?

## Виклик 2: Використовуйте кастомні блоки, щоб спростити свій скрипт {.challenge}

Код, який використовується для перевірки, чи закінчився забіг, 
тепер використовується у двох місцях для кожного персонажа: 
коли персонаж рухається нормально і коли він рухається за допомогою ракети.
 Ми можемо спростити наш скрипт за допомогою кастомного блоку.
 Це набір коду, який використовується в декількох місцях.
 Це майже так само, як якщо б ми створювали свій власний блок коду Scratch!

- [ ] Виберіть скрипт папуги.

- [ ] Виберіть палітру `Мої блоки`{.blockmoreblocks} і натисніть кнопку `Створити блок`. 
 
- [ ] Назвіть свій блок `готовий` і натисніть "Гаразд".

- [ ] Тепер у вікні вашого скрипта з'явиться блок `визначити [готовий]`{.blockmoreblocks}. Перемістіть його.

- [ ] Відірвіть весь блок `якщо`{.blockcontrol} `торкається межа`{.blocksensing} і перетягніть його до блоку`визначити [готовий]`{.blockmoreblocks}.
 
- [ ] Чи можете ви перетягнути блок `готовий` з палітри і використовувати його так само, як інші блоки коду?
 
- [ ] Видаліть інший блок `якщо`{.blockcontrol} `торкається межа`{.blocksensing} зі свого скрипта, а також замініть його блоком `готовий`{.blockmoreblocks}.

  ```blocks
  визначити [готовий]
  якщо <торкається [межа v]?> то
    надати [перегони v] значення [0]
          відтворити звук [Polly v]
          говорити [Polly виграв!] (3) сек
          оповістити [Фініш v]
  
  коли клавішу [a v] натиснуто
  якщо <(перегони) = [1]> то
      перемістити на (4) кроки
      готовий
  
  коли клавішу [q v] натиснуто
    якщо <(перегони) = [1]> і <(використати ракету) = (0)>то
      змінити образ на (parrot-rocket)
      перемістити на (30) кроків
	    відтворити звук [Polly v]
	    готовий
    slutt
    змінити образ на [parrot-a v]
  slutt 	


  når [q v] trykkes
  hvis <<(kappløp) = [1]> og <(rakett_brukt) = [0]>>
      bytt drakt til [parrot-rakett v]
      sett [rakett_brukt v] til [1]
      gå (30) steg
      start lyden [motorcycle passing v]
      ferdig
      bytt drakt til [parrot-a v]
  ```

- [ ] Чи робить це ваш код легшим для читання? Чи можете ви створити подібний 
   кастомізований блок для лева?


## Тестування проєкту {.flag}

__Натисніть на зелений прапорець.__

- [ ] Чи гра все ще працює належним чином?

- [ ] Чи закінчується гра, коли папуга або лев досягає краю екрана?

## Збереження проєкту {.save}

Дуже добре! Тепер ви закінчили і можете насолоджуватися грою, яку ви створили!
  
